<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAYOMEDIA</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dosis:wght@600&display=swap" rel="stylesheet">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://cdn.tiny.cloud/1/0v7zftkfzknl2y86q95632yntxev9r73ttowluj6b7d2hjoq/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.0.3/index.global.min.js"></script>
    <script>
      tinymce.init({
        selector: '#about-text',
        menubar: false,
        plugins: "link image media",
        toolbar: 'undo redo | blocks | bold italic | forecolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | table | link image | media',
        // toolbar: 'undo redo | styleselect | forecolor | bold italic | alignleft aligncenter alignright alignjustify | outdent indent | link image | media | table',
        audio_template_callback: (data) =>
        '<audio controls>\n' +
        `<source src="${data.source}"${data.sourcemime ? ` type="${data.sourcemime}"` : ''} />\n` +
        (data.altsource ? `<source src="${data.altsource}"${data.altsourcemime ? ` type="${data.altsourcemime}"` : ''} />\n` : '') +
        '</audio>'
      });

      //show photo preview after input change
      function handlePhotoPreview(input, img) {
            img.src = URL.createObjectURL(input.files[0]);
      }
    </script>

    <style>
      input[type='file'] {
        visibility: hidden;
      }
      .button {
        text-decoration: none !important;
      }
    </style>
</head>
<body>
    <div class="nav">
        <input type="checkbox" id="nav-check">
        <div class="nav-header">
          <div class="nav-title">
            MAYOMEDIA
          </div>
        </div>
        <div class="nav-btn">
          <label for="nav-check">
            <span></span>
            <span></span>
            <span></span>
          </label>
        </div>

        
        <div class="nav-links">
          <a href="./index.html" >Domov</a>
          <a href="./services.html" >Služby</a>
          <a href="./content.html">Tvorba</a>
          <a href="./free-dates.html">Voľné termíny</a>
          <a href="./contact.html">Kontakt</a>
          <a id="admin" href="./admin.html">Admin</a>
          <a id="sign-out" href="">Odhlásiť</a>
        </div>
      </div>

      <div class="aside">
        <ul class="test">
          <li><a data-content="content1" id="page">Úprava Obsahu Sránky</a></li>
          <li><a data-content="content2" id="content-page">Tvorba</a></li>
          <li><a data-content="content3" id="reservations">Rezervácie</a></li>
          <li><a data-content="content4" id="messages">Správy</a></li>
          <li><a data-content="content5" id="calendarPage">Kalendár</a></li>
        </ul>
      </div>

    <div class="page-data">
      <div class="page-elements" id="page-elements" style="display: block;">
        <section id="welcome-data">
          <article>
            <h2>Welcome sekcia</h2>
            <label for="welcome-name">Meno firmy</label>
            <textarea name="" id="welcome-name" cols="1" rows="1" name="welcome-name" ></textarea>
            <label for="welcome-service">Ponukane sluzby</label>
            <textarea name="" id="welcome-service" cols="1" rows="1" name="welcome-service" ></textarea>
            <label for="welcome-text">Text na úvodnej stránke</label>
            <textarea id="welcome-text" name="welcome-text" rows="4" cols="50"></textarea>
            <img src="" id="welcome-img" alt=""><br>
            <img src="" alt="" id="new-img">
            
            <input type="file" id="welcome-img-input" name="welcome-img-input" accept="image/*" onchange="handlePhotoPreview(document.getElementById('welcome-img-input'), document.getElementById('welcome-img'))">
            <label for="welcome-img-input" class="button" style="text-decoration: none;">Vybrať obrazok</label>
            <button class="button" id="welcome-submit">Uložiť <div class="loader" id="welcome-loader"></div></button>
          </article>
        </section>
        
        <section id="about-data">
          <article>
            <h2>O nás sekcia</h2>
            <label for="about-text">O mne text</label>
            <textarea id="about-text" name="about-text" rows="4" cols="50"></textarea>
            <img src="" id="about-img" alt="" style="width: 40%;"><br>
            
            <input type="file" id="about-img-input" name="about-img-input" accept="image/*" onchange="handlePhotoPreview(document.getElementById('about-img-input'), document.getElementById('about-img'))">
            <label for="about-img-input" class="button" style="text-decoration: none;">Vybrať obrazok</label>
            <button class="button" id="about-submit" style="margin-top: 0.5em;">Uložiť <div class="loader" id="about-loader"></div></button>
          </article>
        </section>
  
        <section id="services">
          <article>
            <h2>Sekcia služby</h2>
            <div class="select">
              <select name="select-option" id="service-select">
              </select>
            </div>
            <label for="service-name">Názov služby</label>
            <textarea name="service-name" id="service-name" cols="1" rows="1" name="service-name" ></textarea>
            <label for="service-text">Text o službe</label>
            <textarea id="service-text" name="service-text" rows="4" cols="50"></textarea>
            <label for="service-price">cena</label>
            <textarea name="service-price" id="service-price" cols="1" rows="1" name="service-price" ></textarea>
            <img src="" id="service-img" alt="" style="width: 40%;"><br>
            <button class="button" id="service-submit">Uložiť <div class="loader" id="service-loader"></div></button>
            <button class="button" id="service-delete">Vymazať <div class="loader" id="service-loader"></div></button>
            <button class="button" id="service-add">Pridať <div class="loader" id="service-loader"></div></button>
          </article>
        </section>
  
        <section id="contact-info">
          <article>
            <h2>Kontakt sekcia</h2>
            <label for="address">Adresa</label>
            <textarea name="address" id="address" cols="1" rows="1" name="address" ></textarea>
            <label for="phone">Telefón</label>
            <textarea name="phone" id="phone" cols="1" rows="1" name="phone" ></textarea>
            <label for="email">Email</label>
            <textarea name="email" id="email" cols="1" rows="1" name="email" ></textarea>
            <button class="button" id="contact-submit">Uložiť <div class="loader" id="contact-loader"></div></button>
          </article>
        </section>
      </div>

      <section class="content" id="content" style="display: none;">
        <form action="">
          <label for="video">Nahraj video</label>
          <input type="text" id="video" name="video" placeholder="Vimeo link"><br>
          <button type="button" id="upload-video" class="button">Upload</button>
        </form>
        <div class="row" id="video-container" style="gap: 1rem;">

        </div>
        <form>
          <label for="imageInput">Nahraj fotku</label>
          <img src="" alt="" id="photos-img" style="width: 40%;"><br>
          
          <input type="file" id="imageInput" name="imageInput" accept="image/*" onchange="handlePhotoPreview(document.getElementById('imageInput'), document.getElementById('photos-img'))">

          <label for="imageInput" class="button">Vybrať obrazok</label> 
          <button type="button" id="upload-photo" class="button">Upload</button>
        </form>        
        <div class="photos-section">
          <h2 class="photos-heading">Fotky zo svadieb</h2>
          <div class="row" id="grid" ">
            <div class="column"></div>
          </div>
        </div>
        
      </section>

      <section class="calendar" id='calendar' >

      </section>
  
      <form class="form" id="service-form">
        <span class="close">&#x2715</span>
        <h2>Vytvorenie Služby</h2>
        <p type="Názov služby:"><input placeholder="Meno služby" id="name"></input></p>
        <p type="Popis služby:"><textarea name="popis" id="detail" rows="4" cols="50"></textarea></p>
        <p type="Cena služby:"><input type="text" name="" id="price" placeholder="500€" ></p>
        <img src="" id="service-form-img" alt="" style="width: 10%;"><br>
    
        <input type="file" id="service-form-input" name="service-form-input" accept="image/*" onchange="handlePhotoPreview(document.getElementById('service-form-input'), document.getElementById('service-form-img'))">
        <label for="service-form-input" class="button" style="text-decoration: none;">Vybrať obrazok</label>
        <button class="button" type="submit" id="create">Rezervovať <div class="loader" id="s-loader"></div></button></button>
      </form>
  
      <div class="rezervations" id="rezervation-table" style="display: none;">
      </div>

      <div class="messages" id="messages-table" style="display: none;">
    </div>

    <script>
      const form = document.getElementById("service-form");
      const close = document.querySelector(".close");
      const content = document.getElementById("page");
      close.addEventListener("click", () => {
        form.style.display = "none";
        content.style.opacity = "1";
      });
    </script>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
</body>
<footer>© 2022 MAYOMEDIA. Website created by Filip David</footer>
<script type="module" src="./admin-data.js"></script>
</html>